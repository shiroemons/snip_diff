# SnipDiff 仕様書

SnipDiffの現状の実装に基づいた仕様書です。各仕様書は実装されている機能を詳細に記述しています。

## 仕様書一覧

### [01. 機能概要](01_feature-overview.md)
SnipDiffの全体的な機能概要と非機能要件、制限事項を記載しています。

**主な内容**:
- コア機能（テキスト差分表示、エディタ機能、操作機能）
- 統計情報表示
- テーマ設定
- 自動更新
- セキュリティとパフォーマンス

---

### [02. UI/UX仕様](02_ui-ux.md)
画面構成、UIコンポーネント、操作方法、キーボードショートカットなどを記載しています。

**主な内容**:
- 画面構成（Header, Input Editor Panel, Comparison Panel, Footer）
- 各コンポーネントの詳細仕様
- 設定モーダルのUI
- 更新通知バナーのUI
- キーボードショートカット一覧
- 色とスタイル定義
- アクセシビリティ対応

---

### [03. Compactモード仕様](03_compact-mode.md)
**Compactモード**の詳細な仕様と使用方法を記載しています。

**主な内容**:
- Compactモードの目的と利点
- 有効化方法（チェックボックス、`⌘3`、デフォルト設定）
- 通常モードとの表示の違い（豊富な例を含む）
- 技術的な仕組み（差分計算、デコレーション適用）
- Compactモード固有の設定（hideUnchangedRegions等）
- スタイル定義（ライト/ダークテーマ）
- 推奨使用シーンと通常モード推奨シーン
- パフォーマンス考慮
- トラブルシューティング

**特徴**:
- Compactモードの使用方法を詳しく、わかりやすく記述
- 実例を多数掲載して理解しやすくしています

---

### [04. 設定仕様](04_settings.md)
アプリケーション設定の詳細な仕様を記載しています。

**主な内容**:
- 設定の保存場所（electron-store）
- 全設定項目の詳細（型、デフォルト値、動作）
  - テーマ
  - デフォルト差分オプション
  - デフォルト言語
  - デフォルト改行コード
  - 自動更新
  - 開発者モード
- 設定の読み込み・保存フロー
- IPC通信
- 設定ファイルの構造
- 設定の反映タイミング
- トラブルシューティング

---

### [05. 自動更新仕様](05_auto-update.md)
electron-updaterを使用した自動更新機能の詳細な仕様を記載しています。

**主な内容**:
- 更新の仕組みと全体フロー
- 更新チェックのトリガー（起動時、定期、手動）
- 更新イベントと通知
- UpdateNotification UIの状態と表示
- IPC通信
- 設定との連携
- セキュリティ（コード署名検証）
- エラーハンドリング
- テスト方法
- トラブルシューティング

---

## ドキュメントの使い方

### 開発者向け
- 新機能を実装する際の参照
- 既存機能の仕様確認
- バグ修正時の期待動作の確認

### QA/テスター向け
- テストケース作成の参考
- 期待動作の確認
- バグ報告時の仕様との照合

### ユーザー向け
- 機能の詳細な使い方
- Compactモードなど高度な機能の理解
- トラブルシューティング

---

## 仕様書の更新方針

これらの仕様書は**現状の実装**を反映したものです。

### 更新タイミング
- 新機能が実装されたとき
- 既存機能が変更されたとき
- バグ修正により動作が変わったとき

### 更新方法
1. 該当する仕様書を特定
2. 実装コードを確認
3. 仕様書を更新
4. Pull Requestで変更をレビュー

---

## 関連ドキュメント

### 開発ガイド
- [CLAUDE.md](../../CLAUDE.md) - Claude Code向けのプロジェクトガイド
- [README.md](../../README.md) - プロジェクト概要とセットアップ方法

### その他のドキュメント
- [library-update-plan.md](../library-update-plan.md) - ライブラリ更新計画

---

## フィードバック

仕様書に不明点や誤りがあれば、Issueまたは Pull Requestでお知らせください。
